# Kickstart for sl-testserv1t autogenerated on sl-udeploy1t on 08/01/19 at 12:15:23.
autostep
install
text
network --hostname={{ inventory_hostname }}.corp.wan --bootproto=static --device=eth0 --gateway=10.180.112.1 --ip={{ ansible_host }} --nameserver={{ DNS1 }} --netmask=255.255.255.0 --noipv6 --activate
cdrom
url --url='http://jl-sat1m.corp.wan/pulp/repos/CSpire_Ent/Library/content/dist/rhel/server/7/7.6/x86_64/kickstart/'
lang en_US
keyboard us
zerombr
clearpart --all --initlabel
bootloader --location=mbr --append="showopts splash=silent cgroup_enable=memory swapaccount=1 scsi_mod.use_blk_mq=1 elevator=noop audit=1 crashkernel=auto"
timezone --utc America/Chicago
auth --disablenis --enableshadow --passalgo=sha512 --disablenis --nisdomain='' --nisserver='' --disableldap --disableldapauth --disableldaptls --ldapserver='' --ldapbasedn='dc=corp,dc=wan' --disablesmartcard --disablerequiresmartcard --smartcardmodule='' --smartcardaction='' --disablefingerprint --disableecryptfs --enablesssd --enablesssdauth --disableforcelegacy --enablecachecreds --disablecachecreds --disablecache --enablelocauthorize --disablekrb5 --krb5kdc='raven.corp.wan' --krb5adminserver='raven.corp.wan' --krb5realm='CORP.WAN' --enablekrb5kdcdns --disablekrb5realmdns --disablewinbind --disablewinbindauth --winbindtemplateshell='/bin/false' --smbsecurity='ads' --smbrealm='CORP.WAN' --smbservers='' --smbworkgroup='CORP' --smbidmaprange='16777216-33554431' --disableipav2 --ipav2domain='' --ipav2realm='' --ipav2server='' --ipav2join='' --disableipav2nontp --disablewins --disablepreferdns --disablehesiod --hesiodlhs='' --hesiodrhs='' --disablepamaccess --enablemkhomedir --disablesysnetauth
rootpw --iscrypted $1$lFV.aqf0$7lTRkvVyxKmzYnbTYydV4/
services --disabled=NetworkManager
services --enabled=atd,auditd,autofs,crond,nfsd,oddjobd,postfix,rsyslog,sshd,sssd,sysstat,vmtoolsd,sl-testserv1t-firstboot
group --name=csapp --gid=213
group --name=dba_local --gid=150
user --name=csapp --shell=/bin/bash --gid=213 --homedir=/home/csapp --uid=213
user --name=oracle --shell=/bin/ksh --gid=150 --homedir=/home/oracle --uid=150
selinux --permissive
reboot
firewall --disabled
skipx
firstboot --disabled
logging
repo --noverifyssl --name=firstboot-repo --baseurl="https://{{ DeployServer }}/pub/repos/firstboot-repo/sl-testserv1t"
volgroup rootvg --pesize=8192 pv.0
part /boot --fstype=ext4 --size=512 --asprimary --label=BOOT --fsoptions=nodev,defaults,nobarrier
part pv.0 --fstype=lvmpv --ondisk=sda --size=1 --grow
logvol / --vgname=rootvg --name=rootlv --fstype=xfs --fsoptions=defaults,nobarrier  --size=16384 --label=ROOT
logvol /var --vgname=rootvg --name=varlv --fstype=xfs --fsoptions=nodev,defaults,nobarrier --size=6144 --label=VAR
logvol /tmp --vgname=rootvg --name=tmplv --fstype=xfs --fsoptions=nodev,nosuid,defaults,nobarrier --size=3072 --label=TMP
logvol /opt --vgname=rootvg --name=optlv --fstype=xfs --fsoptions=nodev,defaults,nobarrier --size=2048 --label=OPT
logvol /home --vgname=rootvg --name=homelv --fstype=xfs --fsoptions=nodev,nosuid,defaults,nobarrier --size=2048 --label=HOME
logvol swap --vgname=rootvg --name=swaplv --fstype=swap --fsoptions=defaults --size=5120 --label=SWAP

%packages  --ignoremissing
sl-testserv1t-firstboot
abrt
abrt-addon-ccpp
abrt-addon-kerneloops
abrt-addon-pstoreoops
abrt-addon-python
abrt-addon-vmcore
abrt-addon-xorg
abrt-cli
abrt-console-notification
abrt-dbus
abrt-libs
abrt-python
abrt-tui
acl
adcli
adwaita-cursor-theme
adwaita-icon-theme
aide
arpwatch
at
at-spi2-atk
at-spi2-core
atk
attr
audispd-plugins
audit
audit-libs
autoconf
autofs
automake
avahi-glib
bash
bash-completion
bc
bind-libs
bind-utils
binutils
biosdevname
blktrace
bridge-utils
bzip2
bzip2-libs
c-ares
ca-certificates
cairo
cairo-gobject
cdparanoia-libs
certmonger
chkconfig
color-filesystem
colord
colord-libs
compat-libcap1
compat-libstdc++-33
coreutils
cpio
cpp
cracklib
cracklib-dicts
crontabs
curl
cyrus-sasl-gssapi
cyrus-sasl-lib
cyrus-sasl-plain
dbus
dbus-glib
dbus-libs
dbus-python
dbus-x11
dconf
dejavu-fonts-common
dejavu-sans-mono-fonts
device-mapper
device-mapper-event
device-mapper-event-libs
device-mapper-libs
device-mapper-persistent-data
diffutils
dmidecode
dnsmasq
dracut
dstat
e2fsprogs
e2fsprogs-libs
elfutils
elfutils-libelf
elfutils-libs
elinks
enchant
ethtool
expat
file
file-libs
filesystem
findutils
finger
flex
fontconfig
fontpackages-filesystem
freetype
fuse
fuse-libs
gawk
gcc
gcc-c++
gdb
gdbm
gdk-pixbuf2
getdents
gettext
gettext-libs
git
glib-networking
glib2
glibc
glibc-common
glibc-headers
gmp
gnupg2
gnutls
gobject-introspection
gofer
gpm-libs
graphite2
grep
groff-base
grub2-common
grub2-pc-modules
grub2-tools-minimal
grubby
gsettings-desktop-schemas
gssproxy
gtk-update-icon-cache
gtk2
gtk3
gzip
hardlink
hicolor-icon-theme
hostname
http-parser
hunspell
hunspell-en-US
hwdata
hyphen
info
initscripts
iotop
iproute
iprutils
ipset
ipset-libs
iptables
iptraf-ng
iputils
irqbalance
iscsi-initiator-utils
iscsi-initiator-utils-iscsiuio
iso-codes
jansson
jasper-libs
jbigkit-libs
js
json-c
json-glib
katello-agent
katello-host-tools
katello-host-tools-fact-plugin
kbd
kernel
kernel-devel
kernel-headers
kernel-tools
kernel-tools-libs
keyutils
keyutils-libs
kmod
kmod-libs
kpartx
kpatch
krb5-libs
krb5-workstation
ksh
latencytop-common
lcms2
ldns
less
libICE
libSM
libX11
libX11-common
libXau
libXaw
libXcomposite
libXcursor
libXdamage
libXdmcp
libXevie
libXext
libXfixes
libXfont
libXfont2
libXft
libXi
libXinerama
libXmu
libXpm
libXrandr
libXrender
libXt
libXtst
libXv
libXxf86dga
libXxf86misc
libXxf86vm
libblkid
libconfuse
libdmx
libepoxy
libfontenc
libgnome-keyring
libgusb
libjpeg-turbo
libmodman
libmpc
libnl
libnl3
libnotify
libogg
libpng
libproxy
libreswan
libsecret
libss
libssh2
libsss_autofs
libsss_certmap
libsss_idmap
libsss_nss_idmap
libsss_sudo
libstdc++
libthai
libtheora
libtiff
libtool
libusbx
libvisual
libvorbis
libwebp
libxcb
libxkbcommon
libxkbcommon-x11
libxkbfile
libxklavier
libxml2
libxml2-python
libxshmfence
libxslt
linux-firmware
logrotate
lsof
lsscsi
ltrace
lua
lvm2
lvm2-libs
lzo
m2crypto
m4
mailcap
mailx
make
man-db
man-pages
man-pages-overrides
mariadb-libs
memstomp
mesa-dri-drivers
mesa-filesystem
mesa-libEGL
mesa-libGL
mesa-libGLES
mesa-libgbm
mesa-libglapi
mesa-private-llvm
mlocate
mpfr
ncdu
ncurses
ncurses-libs
net-snmp-agent-libs
net-snmp-libs
net-snmp-perl
net-tools
nethogs
nettle
newt
newt-python
nfs-utils
nfs4-acl-tools
nmap-ncat
nmon
node_exporter
nspr
nss
nss-pem
nss-softokn-freebl
nss-softokqn
nss-sysinit
nss-tools
nss-util
nss_compat_ossl
ntp
ntpdate
numactl-libs
oddjob
oddjob-mkhomedir
open-vm-tools
openldap
openscap
openscap-scanner
openssh
openssh-clients
openssh-server
openssl
openssl-libs
p11-kit
p11-kit-trust
pam
pam_krb5
pango
parted
passwd
pciutils
pciutils-libs
pcre
perl
pinentry
pixman
pkgconfig
plymouth
plymouth-core-libs
plymouth-scripts
plymouth-theme-cspire
popt
postfix
procps-ng
ps_mem
psacct
psmisc
pth
pulp-rpm-handlers
python
python-gofer
python-gofer-proton
python-isodate
python-pulp-agent-lib
python-pulp-common
python-pulp-rpm-common
python-qpid-proton
python-rhsm
python-rhsm-certificates
qpid-proton-c
readline
realmd
redhat-logos
redhat-release-server
rest
rng-tools
rootfiles
rpcbind
rpm
rpm-build-libs
rpm-libs
rpm-python
rsync
rsyslog
rsyslog-gssapi
samba-client-libs
samba-common
samba-common-tools
scap-security-guide
sed
sgml-common
shadow-utils
shared-mime-info
sqlite
sssd
sssd-ad
sssd-client
sssd-common
sssd-common-pac
sssd-krb5-common
strace
stress
stunnel
subscription-manager
sudo
sysstat
systemd
systemd-libs
systemd-python
systemd-sysv
sysvinit-tools
tar
tcp_wrappers
tcp_wrappers-libs
tcpdump
telnet
time
trace-cmd
traceroute
tzdata
unzip
usermode
ustr
util-linux
vim-common
vim-enhanced
vsftpd
webkitgtk4
wget
which
x86info
xcb-util
xcp
xfsdump
xfsprogs
xkeyboard-config
xml-common
xmlrpc-c
xmlrpc-c-client
xmlsec1
xmlsec1-openssl
xmlto
xorg-x11-apps
xorg-x11-server-Xorg
xorg-x11-server-common
xorg-x11-server-utils
xorg-x11-utils
xorg-x11-xauth
xorg-x11-xinit
xorg-x11-xkb-utils
xterm
xz
xz-libs
yum
yum-metadata-parser
yum-plugin-verify
yum-plugin-versionlock
yum-utils
zip
zlib
%end

%post
/sbin/grubby --update-kernel=`/sbin/grubby --default-kernel` --args="audit=1 showopts elevator=noop splash=silent cgroup_enable=memory swapaccount=1 scsi_mod.use_blk_mq=1 "
%end
